<div class="card has-click-event"
     [class.editing]="edit"
     (keydown.enter)="navigateToUrl()"
     tabindex="0">
  <div class="card-body"
       (click)="navigateToUrl()">
    <div class="details-container">
      <div class="name">{{ bookmark.name }}</div>
      <div class="url transition">{{ bookmark.url }}</div>
    </div>

    <!-- Controls -->
    <div class="controls-container transition">
      <!-- Toggle Favourite -->
      <!-- TODO: Extract favourite icon into its own reusable component -->
      <app-button type="clear"
                  (clicked)="toggleFavourite()"
                  [stopPropagation]="true"
                  [active]="bookmark.favourited"
                  [ariaLabel]="bookmark.favourited ? 'Favourite' : 'Unfavourite'"
                  [tabIndex]="edit ? '0' : '-1'">
        <div content>
          <svg-icon src="assets/images/favourite.svg"
                    class="display-flex"></svg-icon>
        </div>
      </app-button>

      <!-- Toggle Edit -->
      <app-button type="clear"
                  (clicked)="toggleEdit()"
                  [active]="edit"
                  [stopPropagation]="true"
                  [ariaLabel]="edit ? 'Open Edit' : 'Hide Edit'"
                  [tabIndex]="edit ? '0' : '-1'">
        <div content>
          <svg-icon src="assets/images/edit.svg"
                    class="display-flex"></svg-icon>
        </div>
      </app-button>

      <!-- Delete -->
      <app-button type="clear"
                  (clicked)="delete()"
                  [stopPropagation]="true"
                  ariaLabel="Delete"
                  [tabIndex]="edit ? '0' : '-1'">
        <div content>
          <svg-icon src="assets/images/delete.svg"
                    class="display-flex"></svg-icon>
        </div>
      </app-button>
    </div>
  </div>

  <!-- Edit form -->
  <!-- TODO: Animate *ngIf with accordion -->
  <app-bookmark-form *ngIf="edit"
                     [bookmark]="bookmark"></app-bookmark-form>
</div>