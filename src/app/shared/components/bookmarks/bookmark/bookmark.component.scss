@import '~src/assets/styles/variables';

:host {
  display: block;
  width: 100%;

  // TODO: Extract card out into its own resuable component
  .card {
    --border-opacity: .5; /* Used to dynamically change border opacity */
    --box-shadow-opacity: .05; /* Used to dynamically change box-shadow opacity */
    --box-shadow-position: 2px; /* Used to dynamically change box-shadow top/left positions */
    background: $light;
    border-left: 12px solid rgba($primary, var(--border-opacity));
    border-radius: $border-radius;
    box-shadow: var(--box-shadow-position) var(--box-shadow-position) 8px rgba($black, var(--box-shadow-opacity));
    color: inherit; /* Inherit colour to prevent default hyperlink colour */
    cursor: pointer;
    display: flex;
    flex-direction: column;
    outline: none; /* Remove default browser focus behaviour */
    text-decoration: none; /* Remove default hyperlink decorations */

    .card-body {
      align-items: center;
      background: $white;
      border-radius: 0 $border-radius $border-radius 0; /* Rounded corners top-right and bottom-right */
      display: flex;
      height: 48px;
      justify-content: space-between;
      padding: 0 16px;

      /* DETAILS */
      .details-container {
        overflow: hidden; /* Hide content on overflow */

        > * {
          /* Show ellipsis on overflow */
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .name {
          font-weight: bold;
        }

        .url {
          font-size: 12px;
          height: 0; /* Used to hide url */
          line-height: 16px;
          opacity: 0; /* Used to fade url in */
        }
      }

      /* CONTROLS */
      .controls-container {
        display: flex;
        opacity: .1;

        /*Kkeep spacing between controls (Ignores last control) */
        > *:not(:last-child) {
          margin-right: 4px;
        }
      }
    }

    &:hover,
    &:focus,
    &.editing {
      --border-opacity: 1;
      --box-shadow-opacity: .1;
      --box-shadow-position: 4px;
      transform: translateY(-4px);

      .card-body {
        .details-container .url {
          height: 16px; /* Transform url in */
          opacity: 1; /* Fade url in */
        }

        .controls-container {
          opacity: 1;
        }
      }
    }
  }
}